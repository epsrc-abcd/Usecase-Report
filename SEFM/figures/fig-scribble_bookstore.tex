\begin{figure}[t]
\begin{lstlisting}
global protocol Bookstore(role Buyer1, role Buyer2, role Seller) {
  book(title) from Buyer1 to Seller; book(price) from Seller to Buyer1;
  quote(contribution) from Buyer1 to Buyer2;
  choice at Buyer2 { agree() from Buyer2 to Buyer1, Seller;
                     transfer(money) from Buyer1 to Seller;
                     transfer(money) from Buyer2 to Seller; }
  or               { quit() from Buyer2 to Buyer1, Seller;  }
}
\end{lstlisting}


\begin{lstlisting}
local protocol Bookstore at Buyer1(role Buyer1, role Buyer2, role Seller) {
  book(title) to Seller; book(price) from Seller;
  quote(contribution) to Buyer2;
  choice at Buyer2 { agree() from Buyer2; transfer(money) to Seller; }
  or               { quit() from Buyer2; }
}
\end{lstlisting}
\vspace{-5mm}
\caption{Scribble: Session Type Protocol for the Bookstore Use-Case}
\label{fig:scribble_bs}
\vspace{-6mm}
\end{figure}
