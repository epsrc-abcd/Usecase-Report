
\begin{figure}[t]
\begin{center}
\begin{sequencediagram}[scale=0.6]
	\mythread{Buyer1}{\BuyerOne}
	\mythread[5]{Buyer2}{\BuyerTwo}
	\mythread[5]{Seller}{\Seller}

	\mymess[near start]{Buyer1}{\smallcode{book(title)}}{Seller}
	\mymess[near start]{Seller}{\smallcode{book(Price)}}{Buyer1}
	\mymess{Buyer1}{\smallcode{quote(Contribution)}}{Buyer2}

	\begin{sdblock}{alt}{{\scriptsize Choice at} \BuyerTwo}
		\mymess{Buyer2}{\smallcode{AGREE}}{Buyer1}
		\addtocounter{seqlevel}{-1}
		\mymess{Buyer2}{\smallcode{AGREE}}{Seller}
		\mymess[near start]{Buyer1}{\smallcode{transfer(Money)}}{Seller}
		\mymess{Buyer2}{\smallcode{transfer(Money)}}{Seller}

		\separateline{Buyer1}{Seller}

		\mymess{Buyer2}{\smallcode{QUIT}}{Buyer1}
		\addtocounter{seqlevel}{-1}
		\mymess{Buyer2}{\smallcode{QUIT}}{Seller}
	\end{sdblock}
	 \stepcounter{seqlevel}
\end{sequencediagram}
\end{center}
\vspace{-5mm}
\caption{The Book-store protocol: Sequence Diagram}
\label{fig:seqchart}

\end{figure}
